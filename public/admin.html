<!doctype html>
<html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin â€” Antimatter</title><link rel="stylesheet" href="/style.css"></head>
<body>
  <div class="card wide">
    <h1>Admin Panel</h1>
    <table id="users" border="1" cellpadding="6" cellspacing="0">
      <thead><tr><th>#</th><th>Username</th><th>Email</th><th>Verified</th></tr></thead>
      <tbody></tbody>
    </table>
    <p><a href="/dashboard">Back</a></p>
  </div>

  <script>
    async function loadUsers(){
      const res = await fetch('/api/admin/users');
      if (res.status === 403) { alert('Not authorized'); return window.location.href='/login'; }
      const users = await res.json();
      const tbody = document.querySelector('#users tbody');
      tbody.innerHTML = '';
      users.forEach(u => {
        tbody.innerHTML += `<tr><td>${u.joinNumber||''}</td><td>${u.username}</td><td>${u.email}</td><td>${u.verified? 'Yes' : 'No'}</td></tr>`;
      });
    }
    loadUsers();
  </script>
</body></html>
